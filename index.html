<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Angie's Crochet Projects</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, onSnapshot, collection, addDoc, serverTimestamp, deleteDoc, updateDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getStorage, ref, uploadBytes, getDownloadURL, deleteObject } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-storage.js";

        // Firebase config and app ID are automatically provided in the environment
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
        
        let db;
        let auth;
        let storage;
        let userId;
        
        // Global state for the app
        window.appData = {
            db: null,
            auth: null,
            storage: null,
            appId: appId,
            projects: [],
            filteredProjects: [],
            currentProjectId: null,
            isVerticalView: false,
            showFinishedOnly: false
        };

        // UI elements
        const viewToggleButton = document.getElementById('viewToggleButton');
        const projectForm = document.getElementById('projectForm');
        const deleteProjectBtn = document.getElementById('deleteProjectBtn');
        const imagePreviewContainer = document.getElementById('image-preview');
        const notificationToast = document.getElementById('notification-toast');
        const confirmModal = document.getElementById('confirmModal');
        const confirmYesBtn = document.getElementById('confirmYesBtn');
        const confirmNoBtn = document.getElementById('confirmNoBtn');
        const modalTitle = document.getElementById('modalTitle');
        const userIdDisplay = document.getElementById('userIdDisplay');
        const addProjectBtn = document.getElementById('addProjectBtn');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const finishedToggle = document.getElementById('finishedToggle');
        
        // Custom modal functions
        let confirmAction = null;
        
        function showConfirm(message, callback) {
            document.getElementById('confirmMessage').textContent = message;
            confirmModal.classList.remove('hidden');
            confirmAction = callback;
        }
        
        function hideConfirm() {
            confirmModal.classList.add('hidden');
            confirmAction = null;
        }

        if(confirmYesBtn) {
            confirmYesBtn.addEventListener('click', () => {
                if (confirmAction) {
                    confirmAction();
                }
                hideConfirm();
            });
        }

        if(confirmNoBtn) {
            confirmNoBtn.addEventListener('click', () => {
                hideConfirm();
            });
        }

        // Firebase Initialization
        async function initFirebase() {
            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
                storage = getStorage(app);

                window.appData.db = db;
                window.appData.auth = auth;
                window.appData.storage = storage;

                // Sign in anonymously to get a valid user ID for Firestore security rules
                await signInAnonymously(auth);
                userId = auth.currentUser.uid;

                console.log("Firebase initialized. Anonymous user signed in with ID:", userId);
                loadProjects();

            } catch (error) {
                console.error("Firebase initialization failed:", error);
                showNotification('Error: Firebase initialization failed. Check the console for details.');
            }
        }
        
        function loadProjects() {
            // Using a user-specific collection path
            const projectsRef = collection(db, 'artifacts', appId, 'users', userId, 'projects');
            onSnapshot(projectsRef, (snapshot) => {
                window.appData.projects = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                filterProjects(document.getElementById('searchBar').value);
                renderCollage();
                console.log("Projects loaded successfully.");
            }, (error) => {
                console.error("Error loading projects:", error);
                showNotification('Error loading projects. Please try again later.');
            });
        }
        
        window.saveProject = async function(projectData) {
            try {
                if (projectData.id) {
                    const docRef = doc(db, 'artifacts', appId, 'users', userId, 'projects', projectData.id);
                    await setDoc(docRef, projectData, { merge: true });
                } else {
                    await addDoc(collection(db, 'artifacts', appId, 'users', userId, 'projects'), {
                        ...projectData,
                        createdAt: serverTimestamp()
                    });
                }
                showNotification('Project saved successfully!');
                closeModal('projectModal');
                
            } catch (e) {
                console.error("Error saving project:", e);
                showNotification('Error saving project. Please try again.');
            }
        }

        window.deleteProject = async function(projectId) {
            try {
                // Deleting the document from Firestore.
                // Note: Image deletion from storage is removed due to permission errors for unauthenticated users.
                await deleteDoc(doc(db, 'artifacts', appId, 'users', userId, 'projects', projectId));
                showNotification('Project deleted successfully!');
                closeModal('projectModal');

            } catch (e) {
                console.error("Error deleting project:", e);
                showNotification('Error deleting project. Please try again.');
            }
        }
        
        window.uploadImages = async function(files) {
            const imageUrls = [];
            const uploadPromises = Array.from(files).map(async file => {
                const storageRef = ref(storage, `images/${Date.now()}-${file.name}`);
                try {
                    await uploadBytes(storageRef, file);
                    const url = await getDownloadURL(storageRef);
                    imageUrls.push(url);
                } catch (error) {
                    console.error("Image upload failed:", error);
                    showNotification('Image upload failed. Please try again.');
                }
            });

            await Promise.all(uploadPromises);
            return imageUrls;
        }

        window.filterProjects = function(query) {
            const lowerQuery = query.toLowerCase();
            window.appData.filteredProjects = window.appData.projects.filter(project => {
                const searchString = `${project.name} ${project.pattern || ''} ${project.yarn || ''} ${project.hookSize || ''} ${project.notes || ''}`.toLowerCase();
                return searchString.includes(lowerQuery);
            });
            renderProjects();
        };

        function toggleView() {
            window.appData.isVerticalView = !window.appData.isVerticalView;
            renderProjects();
        };

        function toggleCollageView() {
            window.appData.showFinishedOnly = !window.appData.showFinishedOnly;
            renderCollage();
        };
        
        function renderCollage() {
            const collageContainer = document.getElementById('image-collage');
            collageContainer.innerHTML = '';
            
            if (window.appData.showFinishedOnly) {
                finishedToggle.textContent = 'Show All Photos';
            } else {
                finishedToggle.textContent = 'Show Finished Only';
            }

            let images = [];
            let projectsToShow = window.appData.projects;

            if (window.appData.showFinishedOnly) {
                projectsToShow = projectsToShow.filter(p => p.category === 'finished');
            }

            projectsToShow.forEach(project => {
                if (project.images && Array.isArray(project.images) && project.images.length > 0) {
                    if (project.mainImage) {
                        images.push({ url: project.mainImage, createdAt: project.createdAt });
                    } else {
                        images.push({ url: project.images[0], createdAt: project.createdAt });
                    }
                }
            });

            // Sort by creation date descending
            images.sort((a, b) => (b.createdAt?.toMillis() || 0) - (a.createdAt?.toMillis() || 0));

            // Display a limited number of the most recent images
            const displayLimit = 12;
            const imagesToDisplay = images.slice(0, displayLimit);

            if (imagesToDisplay.length === 0) {
                collageContainer.innerHTML = `<p class="text-sm text-gray-500 text-center py-4">No photos to display yet.</p>`;
            } else {
                imagesToDisplay.forEach(imgData => {
                    const img = document.createElement('img');
                    img.src = imgData.url;
                    img.classList.add('w-full', 'h-full', 'rounded-lg', 'object-cover', 'shadow-sm', 'transition-transform', 'hover:scale-105');
                    collageContainer.appendChild(img);
                });
            }
        }

        // Modal and utility functions (unchanged from your file)
        function openModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.add('fade-out-up');
            setTimeout(() => {
                modal.classList.add('hidden');
                modal.classList.remove('fade-out-up');
            }, 300);
        }

        function showNotification(message) {
            const toast = document.getElementById('notification-toast');
            toast.textContent = message;
            toast.classList.remove('hidden');
            setTimeout(() => {
                toast.classList.add('hidden');
            }, 3000);
        }

        function renderProjects() {
            const categories = ['wishlist', 'wip', 'finished'];
            
            if (window.appData.isVerticalView) {
                viewToggleButton.textContent = 'Switch to Gallery View';
            } else {
                viewToggleButton.textContent = 'Switch to List View';
            }

            categories.forEach(category => {
                const container = document.getElementById(`${category}-projects`);
                container.innerHTML = '';
                const filteredProjects = window.appData.filteredProjects.filter(p => p.category === category).sort((a, b) => a.createdAt?.toMillis() - b.createdAt?.toMillis());
                
                // Set the correct layout classes based on the view mode
                container.classList.remove('flex-col', 'space-y-4');
                container.classList.remove('flex-row', 'overflow-x-auto', 'space-x-4');

                if (window.appData.isVerticalView) {
                    container.classList.add('flex', 'flex-col', 'space-y-4');
                } else {
                    container.classList.add('flex', 'flex-row', 'overflow-x-auto', 'space-x-4');
                }
                
                if (filteredProjects.length === 0) {
                    container.innerHTML = `<p class="text-sm text-gray-500 text-center py-4">No projects in this category.</p>`;
                } else {
                    filteredProjects.forEach(project => {
                        const card = document.createElement('div');
                        card.classList.add('project-card', 'bg-white', 'p-4', 'rounded-xl', 'shadow-sm', 'cursor-pointer', 'border', 'border-gray-200', 'hover:border-blue-500');
                        
                        let thumbnailHtml = '';
                        if (project.mainImage) {
                            thumbnailHtml = `<img src="${project.mainImage}" alt="${project.name}" class="w-full h-24 object-cover mb-2 rounded-lg">`;
                        } else if (project.images && project.images.length > 0) {
                            thumbnailHtml = `<img src="${project.images[0]}" alt="${project.name}" class="w-full h-24 object-cover mb-2 rounded-lg">`;
                        }

                        card.innerHTML = `
                            ${thumbnailHtml}
                            <div class="flex items-center justify-between">
                                <h3 class="font-bold text-gray-800 text-xl break-all">${project.name}</h3>
                                <div class="w-2.5 h-2.5 rounded-full ${project.category === 'wishlist' ? 'bg-blue-500' : project.category === 'wip' ? 'bg-yellow-500' : 'bg-green-500'}"></div>
                            </div>
                        `;
                        card.addEventListener('click', () => openProject(project));
                        container.appendChild(card);
                    });
                }
            });
        }
        
        function openProject(project) {
            window.appData.currentProjectId = project.id;
            document.getElementById('projectId').value = project.id;
            document.getElementById('projectName').value = project.name;
            document.getElementById('projectCategory').value = project.category;
            document.getElementById('hookSize').value = project.hookSize || '';
            document.getElementById('yarn').value = project.yarn || '';
            document.getElementById('pattern').value = project.pattern || '';
            document.getElementById('notesLink').value = project.notesLink || '';
            document.getElementById('projectNotes').value = project.notes || '';
            modalTitle.textContent = `Edit Project`;
            deleteProjectBtn.classList.remove('hidden');
            
            const imagePreviewContainer = document.getElementById('image-preview');
            imagePreviewContainer.innerHTML = '';
            
            if (project.images && Array.isArray(project.images)) {
                project.images.forEach((imgUrl, index) => {
                    const imgWrapper = document.createElement('div');
                    imgWrapper.classList.add('relative', 'w-20', 'h-20', 'rounded-lg', 'overflow-hidden', 'group');
                    imgWrapper.innerHTML = `
                        <img src="${imgUrl}" alt="Project Image" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                            <button id="setMainBtn-${index}" class="bg-white text-gray-800 px-2 py-1 text-xs rounded-full shadow-md hover:bg-gray-100">
                                Set as Main
                            </button>
                        </div>
                    `;
                    imgWrapper.querySelector(`#setMainBtn-${index}`).addEventListener('click', () => setMainImage(imgUrl));
                    imagePreviewContainer.appendChild(imgWrapper);
                });
            }
            openModal('projectModal');
        }

        function setMainImage(imgUrl) {
            if (window.appData.currentProjectId) {
                const project = window.appData.projects.find(p => p.id === window.appData.currentProjectId);
                if (project) {
                    project.mainImage = imgUrl;
                    window.saveProject(project);
                }
            }
        };

        function resetProjectForm() {
            window.appData.currentProjectId = null;
            document.getElementById('projectForm').reset();
            document.getElementById('projectId').value = '';
            document.getElementById('modalTitle').textContent = 'Add New Project';
            deleteProjectBtn.classList.add('hidden');
            document.getElementById('image-preview').innerHTML = '';
        }
        
        // This function will be called once the document is fully loaded
        window.onload = function() {
            initFirebase();
            
            // Event Listeners
            addProjectBtn.addEventListener('click', () => {
                openModal('projectModal');
                resetProjectForm();
            });

            const closeModalBtns = document.querySelectorAll('#closeModalBtn');
            closeModalBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    closeModal('projectModal');
                });
            });
            document.getElementById('searchBar').addEventListener('input', (e) => filterProjects(e.target.value));
            viewToggleButton.addEventListener('click', toggleView);
            finishedToggle.addEventListener('click', toggleCollageView);

            projectForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                
                const projectName = document.getElementById('projectName').value;
                const projectCategory = document.getElementById('projectCategory').value;
                const hookSize = document.getElementById('hookSize').value;
                const yarn = document.getElementById('yarn').value;
                const pattern = document.getElementById('pattern').value;
                const notesLink = document.getElementById('notesLink').value;
                const projectNotes = document.getElementById('projectNotes').value;
                const projectId = document.getElementById('projectId').value;
                const imageFiles = document.getElementById('projectImages').files;

                let currentProject = window.appData.projects.find(p => p.id === projectId);
                let imageUrls = currentProject ? currentProject.images || [] : [];
                let mainImage = currentProject ? currentProject.mainImage : null;
                
                if (imageFiles.length > 0) {
                    showNotification('Uploading images...');
                    try {
                        const newImageUrls = await window.uploadImages(imageFiles);
                        imageUrls = [...imageUrls, ...newImageUrls];
                        if (!mainImage) {
                             mainImage = newImageUrls[0];
                        }
                    } catch (error) {
                        console.error("Image upload failed:", error);
                        showNotification('Image upload failed. Please try again.');
                        return;
                    }
                }

                const projectData = {
                    id: projectId,
                    name: projectName,
                    category: projectCategory,
                    hookSize: hookSize,
                    yarn: yarn,
                    pattern: pattern,
                    notesLink: notesLink,
                    notes: projectNotes,
                    images: imageUrls,
                    mainImage: mainImage
                };

                await window.saveProject(projectData);
            });
            
            const deleteProjectBtn = document.getElementById('deleteProjectBtn');
            if (deleteProjectBtn) {
                deleteProjectBtn.addEventListener('click', () => {
                    const projectId = document.getElementById('projectId').value;
                    showConfirm("Are you sure you want to delete this project?", () => {
                        window.deleteProject(projectId);
                    });
                });
            }
            
            document.getElementById('projectImages').addEventListener('change', (e) => {
                const imagePreviewContainer = document.getElementById('image-preview');
                imagePreviewContainer.innerHTML = '';
                Array.from(e.target.files).forEach(file => {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const imgWrapper = document.createElement('div');
                        imgWrapper.classList.add('relative', 'w-20', 'h-20', 'rounded-lg', 'overflow-hidden', 'group');
                        imgWrapper.innerHTML = `
                            <img src="${e.target.result}" alt="Project Image" class="w-full h-full object-cover">
                            <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                                <button class="set-main-btn bg-white text-gray-800 px-2 py-1 text-xs rounded-full shadow-md hover:bg-gray-100">
                                    Set as Main
                                </button>
                            </div>
                        `;
                        const setMainBtn = imgWrapper.querySelector('.set-main-btn');
                        if (setMainBtn) {
                          setMainBtn.addEventListener('click', () => setMainImage(e.target.result));
                        }
                        imagePreviewContainer.appendChild(imgWrapper);
                    };
                    reader.readAsDataURL(file);
                });
            });
        };

    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: #fbcfe8; /* Soft pink background */
            transition: background-color 0.3s ease-in-out;
        }

        .container {
            max-width: 800px;
        }
        .project-card {
            min-width: 150px;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            transform-origin: center;
        }
        .project-card:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.1);
        }
        .modal {
            animation: fadeIn 0.3s ease-in-out;
        }
        .modal-content {
            animation: slideIn 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .fade-out-up {
            animation: fadeOutUp 0.3s ease-in-out forwards;
        }
        @keyframes fadeOutUp {
            from { transform: translateY(0); opacity: 1; }
            to { transform: translateY(-20px); opacity: 0; }
        }
    </style>
</head>
<body class="p-4 sm:p-8 min-h-screen py-12">
    <!-- Witty Slogan at the top -->
    <p class="text-xl text-center text-pink-900 font-semibold italic mb-12 drop-shadow-sm">"I'm not addicted to crochet, we're just in a committed relationship."</p>

    <!-- Main UI Container -->
    <div class="container mx-auto">
        <div class="flex flex-col sm:flex-row items-center justify-between mb-8 space-y-4 sm:space-y-0">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-900 drop-shadow-lg">Angie's Crochet Projects</h1>
            <p class="text-lg text-center text-gray-600 mb-4 font-semibold italic">"My hooks are ready for an adventure."</p>
            <div class="flex space-x-2">
                <button id="viewToggleButton" class="bg-white/90 text-purple-600 font-semibold py-2 px-4 rounded-xl shadow-md transition duration-200 hover:bg-gray-100">
                    Switch to List View
                </button>
                <button id="addProjectBtn" class="bg-white/90 text-purple-600 font-semibold py-2 px-4 rounded-xl shadow-md transition duration-200 hover:bg-gray-100">
                    + Add Project
                </button>
            </div>
        </div>
        
        <!-- Search Bar -->
        <div class="mb-8">
            <input type="text" id="searchBar" oninput="filterProjects(this.value)" placeholder="Search projects by name, pattern, yarn, notes or hook size..." class="w-full p-3 rounded-xl border border-gray-300 shadow-sm focus:ring-purple-500 focus:border-purple-500">
        </div>

        <!-- Project Categories -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div id="wishlist" class="bg-white/70 backdrop-blur-md rounded-3xl p-6 shadow-lg">
                <h2 class="text-xl font-bold text-gray-700 mb-4">Wishlist</h2>
                <div id="wishlist-projects" class="flex flex-row overflow-x-auto space-x-4"></div>
            </div>
            <div id="wip" class="bg-white/70 backdrop-blur-md rounded-3xl p-6 shadow-lg">
                <h2 class="text-xl font-bold text-gray-700 mb-4">Work in Progress</h2>
                <div id="wip-projects" class="flex flex-row overflow-x-auto space-x-4"></div>
            </div>
            <div id="finished" class="bg-white/70 backdrop-blur-md rounded-3xl p-6 shadow-lg">
                <h2 class="text-xl font-bold text-gray-700 mb-4">Finished</h2>
                <div id="finished-projects" class="flex flex-row overflow-x-auto space-x-4"></div>
            </div>
        </div>
        
        <!-- Showcase Collage Section -->
        <div class="mt-16">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-2xl font-bold text-gray-800">Recent Creations</h2>
                <button id="finishedToggle" class="bg-gray-200 text-gray-700 text-sm font-semibold py-2 px-4 rounded-full transition duration-200 hover:bg-gray-300">
                    Show Finished Only
                </button>
            </div>
            <div id="image-collage" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
                <!-- Images will be rendered here dynamically -->
            </div>
        </div>
    </div>
    
    <!-- Custom Confirmation Modal -->
    <div id="confirmModal" class="modal fixed inset-0 z-50 hidden flex items-center justify-center bg-black bg-opacity-50">
        <div class="modal-content bg-white rounded-3xl shadow-2xl p-6 w-11/12 max-w-sm transform">
            <p id="confirmMessage" class="text-center text-lg font-medium mb-6">Are you sure?</p>
            <div class="flex justify-center space-x-4">
                <button id="confirmYesBtn" class="bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-xl shadow-md transition duration-200">Yes, Delete</button>
                <button id="confirmNoBtn" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-medium py-2 px-4 rounded-xl transition duration-200">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Modal for adding/editing projects -->
    <div id="projectModal" class="modal fixed inset-0 z-50 hidden flex items-center justify-center bg-black bg-opacity-50">
        <div class="modal-content bg-white rounded-3xl shadow-2xl p-6 w-11/12 max-w-2xl transform overflow-y-auto max-h-screen">
            <h3 id="modalTitle" class="text-2xl font-bold text-gray-800 mb-6 text-center">Add New Project</h3>
            <form id="projectForm" class="space-y-4">
                <input type="hidden" id="projectId">
                <div>
                    <label for="projectName" class="block text-sm font-medium text-gray-700">Project Name</label>
                    <input type="text" id="projectName" class="mt-1 block w-full p-3 border border-gray-300 rounded-xl shadow-sm focus:ring-blue-500 focus:border-blue-500" required>
                </div>
                <div>
                    <label for="projectCategory" class="block text-sm font-medium text-gray-700">Category</label>
                    <select id="projectCategory" class="mt-1 block w-full p-3 border border-gray-300 rounded-xl shadow-sm focus:ring-blue-500 focus:border-blue-500" required>
                        <option value="wishlist">Wishlist</option>
                        <option value="wip">Work in Progress</option>
                        <option value="finished">Finished</option>
                    </select>
                </div>
                 <div>
                    <label for="pattern" class="block text-sm font-medium text-gray-700">Pattern</label>
                    <input type="text" id="pattern" class="mt-1 block w-full p-3 border border-gray-300 rounded-xl shadow-sm focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label for="yarn" class="block text-sm font-medium text-gray-700">Yarn</label>
                    <input type="text" id="yarn" class="mt-1 block w-full p-3 border border-gray-300 rounded-xl shadow-sm focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label for="hookSize" class="block text-sm font-medium text-gray-700">Hook Size</label>
                    <input type="text" id="hookSize" class="mt-1 block w-full p-3 border border-gray-300 rounded-xl shadow-sm focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label for="notesLink" class="block text-sm font-medium text-gray-700">Link to Apple Notes</label>
                    <input type="text" id="notesLink" class="mt-1 block w-full p-3 border border-gray-300 rounded-xl shadow-sm focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label for="projectNotes" class="block text-sm font-medium text-gray-700">Notes</label>
                    <textarea id="projectNotes" rows="4" class="mt-1 block w-full p-3 border border-gray-300 rounded-xl shadow-sm focus:ring-blue-500 focus:border-blue-500"></textarea>
                </div>
                <div>
                    <label for="projectImages" class="block text-sm font-medium text-gray-700">Images</label>
                    <input type="file" id="projectImages" multiple accept="image/*" class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                    <div id="image-preview" class="flex flex-wrap gap-2 mt-4"></div>
                </div>
                <div class="flex justify-between items-center pt-4">
                    <button type="submit" class="bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition duration-200">
                        Save Project
                    </button>
                    <button type="button" id="closeModalBtn" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-medium py-3 px-6 rounded-xl transition duration-200">
                        Cancel
                    </button>
                    <button type="button" id="deleteProjectBtn" class="bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-6 rounded-xl shadow-md transition duration-200 hidden">
                        Delete Project
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Notification Toast -->
    <div id="notification-toast" class="fixed bottom-8 right-8 bg-gray-800 text-white px-6 py-4 rounded-xl shadow-lg hidden"></div>

    <!-- Witty Slogan at the bottom -->
    <p class="text-xl text-center text-pink-900 font-semibold italic mt-12 drop-shadow-sm">"Don't interrupt me while I'm crocheting... it's a yarn-sitive situation."</p>
</body>
</html>
